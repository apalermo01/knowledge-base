
## Describe azure storage redundancy

- factors that help determine which redundancy option to use:
	- how data is replicated in primary region
	- whether to replicate in a second region to protect against regional disasters
	- whether your app requires read access to the replicated data

## Redundancy in the primary region

- data is always replicated 3x in the primary region
- Locally redundant storage (LRS)
	- replicated 3x within a single datacenter in the primary region
	- 11-9s of durability of objects over a given year
	- lowest-cost option and least durability compared to the others
- Zone-redundant storage
	- replicates data synchronously  across 3 AZs in the primary region
	- at least 12-nines of durability over a given year
	- data is accessible for read / write operations in both zones (no remounting)
- Redundancy in a second region
	- can copy data to a region 100s of miles away
	- paired secondary region is based on region pairs
	- geo-redundant storage (GRS)
		- similar to running LRS in 2 regions
		- copies data synchonously 3 times in a singly physical location in the primary region (LRS)
		- then copies asynch to single location in secondary region![[RA-GRS.png]]
	- geo-zone-redundant storage
		- similar to running ZRS in primary region and LRS in second region ![[RA-GZRS.png]]
		- 16-nines of redundancy
	- by default, data in secondary region isn't available for read/write unless there's a failover to secondary region
	- There may be data loss if a failover happens becuase data is transferred asynchonously.
		- Recovery Point Objective (RPO): interval between most recent writes in primary region and last write to secondary region
		- typically this is less than 15 minutes

## Describe Azure storage services

- Azure blobs
	- Massively scalable object store for text and binary data. Also includes support for big data analytics through data lake store Gen2
	- unstructured
	- developers don't have to think about or manage disks
	- ideal for:
		- serving images or documents directly to a browser
		- storing files for distributed access
		- streaming video and audio
		- storing data fro backup / restore, disaster recovery, and archiving
		- storing data for analysis by an on-prem or azure-hosted service
	- tiers
		- hot access: frequently accessed (e.g. images for website)
		- cool access: infrequently accessed / stored for 30+ days (e.g. invoices for customers)
		- archive access: rarely access, stored for 180+ days, flexibile latency requirements (e.g. long-term backups)
	- considerations for tiers
		- only hot / cool tiers can be set at account level. archieve isn't available @ account level
		- hot / cool / archive -> set at blob level, during, or after upload
		- cool access: lower availability, high durability, latency, and throughput characteristics. High access costs
		- stored offline, lowest storage costs. Highest costs to rehydrate and access data.
- Azure files
	- Managed file shares for lcoud or on-prem deployments
	- availablel vie Server Message Block (SMB) or Network FIle System (NFS) protocols. SMB available from windows, linux, macOS. NFS accessible form linux or macOS clients.
	- key benefits
		- shared access
		- fully managed
		- scripting and tooling (powershell / CLI)
		- resiliency
		- familiar programmability
- Azure queues
	- messaging store for reliable messaging between application components
	- each message: up to 64 kb
	- commonly used to create a backlog of work to process asynchronously
	- often combined with compute functions
- Azure disks
	- block-level storage volumes for azure VMs
	- same as a physical disk but virtualized
	- just provision the disk, azure will take care of the rest
- benefits of azure storage
	- durable and highly available
	- secure
	- scalable
	- managed
	- accessible
		- anywhere over HTTP or HTTPS
		- client libraries for .NET, Java, Node.js, python, PHP, Ruby, Go, etc.
		- REST API
		- scripting in powershell / CLI

## Identify Azure data migration options

-  Azure migrate
	- on-prem environment to the cloud
	- Unified migration platform
	- range of tools:
		- discovery and assessment
		- server migration
	- also integrates w/ other azure services and tool, and 3rd party software vendors
	- assessment and migration
- Integrated tools
	- Azure migrate: Discovery and assessment
		- discover and assesss on-prem serviers runing on VMware, Hyper-V, and phsyical servers in preparation for migration
	- Azure Migrate: Server Migration
		- migrate VMWare VMs, Hyper-V VMs, physical servers, othervitualized servers, and public clouds to VMware
	- Data migration assistant
		- stand-alone tool to asesss SQL servers
		- pinpoints potential problems blocking migration
		- identifies unsupported features, new features that can benefit you, and right path for db migration
	- Azure Database Migration Service
		- Migrate on-prem databases to Azure VMs running on SQL server, Azure SQL Database, or SQL managed instances
	- Web app migration assistant
		- standalone tool to asess on-prem websites for migration to azure app service
		- migrate .NET and PHP web apps
	- Azure data box
		- move large amounts of offline data to azure
		- ships a physical disk (~80TB storage)
		- various scenarios where data box can be used to import data
			- onetime migration (large amount of on-prem data)
			- media library from offline tapes into azure
			- migrating VM farm, SQL server, and applications
			- moving historical data into azure for in-depth analysis
			- initial bulk transfer
			- periodic uploads
		- scenarios where data box can be used to export data
			- disaster recovery
			- security requirements
			- migrate back to on-prem or another cloud service provider

## Identify Azure file movement options

- AzCopy
	- CLI to copy blobs / files to/from storage account
	- this is a one-direction synchronization
- Azure Storage Explorer
	- GUI to manage files and blobs in a storage account
- Azure file sync
	- centralize file shares in Azure files
	- like turing windows file server into a content delivery network
	- stays bi-directionally synced with all files in azure